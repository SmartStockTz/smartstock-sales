{"version":3,"file":"smartstock-core-libs.js","sources":["../../../projects/libs/src/services/event.service.ts","../../../projects/libs/src/services/log.service.ts","../../../projects/libs/src/utils/security.util.ts","../../../projects/libs/src/utils/eventsNames.util.ts","../../../projects/libs/src/services/storage.service.ts","../../../projects/libs/src/services/settings.service.ts","../../../projects/libs/src/components/verify-email-dialog.component.ts","../../../projects/libs/src/services/user.service.ts","../../../projects/libs/src/services/configs.service.ts","../../../projects/libs/src/components/drawer.component.ts","../../../projects/libs/src/components/toolbar.component.ts","../../../projects/libs/src/components/no-stock-dialog.component.ts","../../../projects/libs/src/pipes/shops.pipe.ts","../../../projects/libs/src/components/on-fetch.component.ts","../../../projects/libs/src/components/search-input.component.ts","../../../projects/libs/src/components/bottom-bar.component.ts","../../../projects/libs/src/components/data-not-ready.component.ts","../../../projects/libs/src/components/upload-files.component.ts","../../../projects/libs/src/components/dash-card.component.ts","../../../projects/libs/src/components/upload-file-progress.component.ts","../../../projects/libs/src/components/delete-dialog.component.ts","../../../projects/libs/src/lib.module.ts","../../../projects/libs/src/services/file-library.service.ts","../../../projects/libs/src/services/message.service.ts","../../../projects/libs/src/utils/date.util.ts","../../../projects/libs/src/utils/device-info.util.ts","../../../projects/libs/src/public-api.ts","../../../projects/libs/src/smartstock-core-libs.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventService {\n\n  constructor() {\n  }\n\n  broadcast(eventName: string, data?: any): void {\n    const cE = new CustomEvent(eventName, {\n      detail: data\n    });\n    window.dispatchEvent(cE);\n  }\n\n  listen(eventName: string, handler: (data: any) => void): void {\n    window.addEventListener(eventName, handler);\n  }\n\n  unListen(eventName: string, handler?: (data: any) => void): void {\n    window.removeEventListener(eventName, handler);\n  }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LogService {\n\n  constructor() {\n  }\n\n  i(message: any, tag?: string, debug = false): void {\n    if (debug) {\n      console.log(tag, message);\n    }\n  }\n\n  e(message: any, tag?: string, debug = false): void {\n    if (debug) {\n      console.error(tag, message);\n    }\n  }\n\n  w(message: any, tag?: string, debug = false): void {\n    if (debug) {\n      console.warn(tag, message);\n    }\n  }\n}\n","import * as uuid from 'uuid';\n\nexport class SecurityUtil {\n  static generateUUID(): string {\n    return uuid.v4();\n  }\n  static randomString(length) {\n    let result           = '';\n    const characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for ( let i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n}\n\n","export const SsmEvents = {\n  ACTIVE_SHOP_SET: '_ssm_active_shop_set_',\n  ACTIVE_SHOP_REMOVE: '_ssm_active_shop_removed_',\n  SETTINGS_UPDATED: '_ssm_settings_updated_',\n  STOCK_UPDATED: '_ssm_stock_updated_',\n  ADD_CART: 'add_cart',\n  NO_OF_CART: 'noofProductsCart',\n  CART_ITEMS: '_cart_items_'\n};\n","import {Injectable} from '@angular/core';\nimport {EventService} from './event.service';\nimport {BFast} from 'bfastjs';\nimport {SecurityUtil} from '../utils/security.util';\nimport {SsmEvents} from '../utils/eventsNames.util';\nimport {CacheController} from 'bfastjs/dist/controllers/CacheController';\nimport {UserModel} from '../models/user.model';\nimport {ShopModel} from '../models/shop.model';\nimport {CustomerModel} from '../models/customer.model';\nimport {StockModel} from '../models/stock.model';\nimport {BatchModel} from '../models/batch.model';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n  smartStockCache: CacheController = BFast.cache({database: 'smartstock', collection: 'config'});\n\n  constructor(private readonly eventApi: EventService) {\n  }\n\n  async getActiveUser(): Promise<UserModel> {\n    return await BFast.auth().currentUser();\n  }\n\n  async saveSales(batchs: BatchModel[]): Promise<any> {\n    const activeShop = await this.getActiveShop();\n    await BFast.cache({database: 'sales', collection: activeShop.projectId})\n      .set<BatchModel[]>(SecurityUtil.randomString(12), batchs, {\n        dtl: 720\n      });\n  }\n\n  async getActiveShop(): Promise<ShopModel> {\n    const response = await this.smartStockCache.get<ShopModel>('activeShop');\n    if (response) {\n      return response;\n    } else {\n      throw {message: 'No Active Shop'};\n    }\n  }\n\n  async saveActiveShop(shop: ShopModel): Promise<any> {\n    const response = await this.smartStockCache.set<ShopModel>('activeShop', shop, {\n      dtl: 7\n    });\n    this.eventApi.broadcast(SsmEvents.ACTIVE_SHOP_SET);\n    return response;\n  }\n\n  async getCurrentProjectId(): Promise<string> {\n    return await this.smartStockCache.get<string>('cPID');\n  }\n\n  async saveCurrentProjectId(projectId: string): Promise<any> {\n    return await this.smartStockCache.set<string>('cPID', projectId, {\n      dtl: 7\n    });\n  }\n\n  async clearSmartStockCache(): Promise<any> {\n    return await this.smartStockCache.clearAll();\n  }\n\n  async saveActiveUser(user: UserModel): Promise<any> {\n    return BFast.auth().setCurrentUser(user, 6);\n  }\n\n  async removeActiveShop(): Promise<any> {\n    const response = await this.smartStockCache.set('activeShop', undefined);\n    this.eventApi.broadcast(SsmEvents.ACTIVE_SHOP_REMOVE);\n    return response;\n  }\n\n  async removeActiveUser(): Promise<any> {\n    return await BFast.auth().setCurrentUser(undefined, 0);\n  }\n\n  async removeStocks(): Promise<any> {\n    const shop = await this.getActiveShop();\n    return await BFast.cache({database: 'stocks', collection: shop.projectId}).clearAll();\n  }\n\n  async getStocks(): Promise<StockModel[]> {\n    const shop = await this.getActiveShop();\n    const stocksCache = BFast.cache({database: 'stocks', collection: shop.projectId});\n    return await stocksCache.get<StockModel[]>('all');\n  }\n\n  async saveStocks(stocks: StockModel[]): Promise<any> {\n    const shop = await this.getActiveShop();\n    const stocksCache = BFast.cache({database: 'stocks', collection: shop.projectId});\n    return await stocksCache.set('all', stocks, {\n      dtl: 360\n    });\n  }\n\n  async saveStock(stock: StockModel): Promise<StockModel> {\n    // const shop = await this.getActiveShop();\n    // const stocksCache = BFast.cache({database: 'stocks', collection: shop.projectId});\n    // return stocksCache.set(stock.id, stock);\n    return undefined;\n  }\n\n  async getCustomers(): Promise<CustomerModel[]> {\n    const shop = await this.getActiveShop();\n    const customersCache = BFast.cache({database: 'customers', collection: shop.projectId});\n    const customersKey = await customersCache.keys();\n    const customers = [];\n    for (const key of customersKey) {\n      customers.push(await customersCache.get<CustomerModel>(key));\n    }\n    return customers;\n  }\n\n  async saveCustomer(customer: CustomerModel): Promise<CustomerModel> {\n    const shop = await this.getActiveShop();\n    const customersCache = BFast.cache({database: 'customers', collection: shop.projectId});\n    return await customersCache.set<CustomerModel>(customer.displayName, customer, {\n      dtl: 360\n    });\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {StorageService} from './storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SettingsService {\n\n  ssmServerURL = 'https://smartstock-daas.bfast.fahamutech.com'; // environment.smartstock.databaseURL;\n  ssmFunctionsURL = 'https://smartstock-faas.bfast.fahamutech.com'; // environment.smartstock.functionsURL;\n  ssmHeader = {\n    'X-Parse-Application-Id': 'smartstock'\n  };\n  ssmFunctionsHeader = {\n    'bfast-application-id': 'smartstock',\n    'content-type': 'application/json'\n  };\n\n  constructor(private readonly httpClient: HttpClient,\n              private readonly storageService: StorageService,\n              private readonly indexDb: StorageService) {\n  }\n\n  async getSSMUserHeader(): Promise<any> {\n    try {\n      const user = await this.storageService.getActiveUser();\n      const activeShop = await this.storageService.getActiveShop();\n      if (!user) {\n        // console.log('no user records found');\n        throw new Error('no user records found');\n      }\n      if (user && user.sessionToken && activeShop && activeShop.applicationId) {\n        return {\n          'X-Parse-Application-Id': 'smartstock',\n          'X-Parse-Session-Token': user.sessionToken,\n          'Content-Type': 'application/json'\n        };\n      } else {\n        throw new Error('token not found');\n      }\n    } catch (e) {\n      throw {message: 'Fails to get user, so to retrieve token'};\n    }\n  }\n\n  async getCustomerApplicationId() {\n    try {\n      const activeShop = await this.storageService.getActiveShop();\n      if (!activeShop) {\n        throw new Error('No user record');\n      }\n      return activeShop.applicationId;\n    } catch (e) {\n      throw {message: 'Fails to get application id', reason: e.toString()};\n    }\n  }\n\n  async getCustomerServerURLId() {\n    try {\n      const activeShop = await this.storageService.getActiveShop();\n      if (!activeShop) {\n        throw new Error('No user in local storage');\n      }\n      return activeShop.projectUrlId;\n    } catch (reason) {\n      throw {message: 'Fails to get user', reason: reason.toString()};\n    }\n  }\n\n  async getCustomerHeader(): Promise<any> {\n    try {\n      return {\n        'X-Parse-Application-Id': await this.getCustomerApplicationId()\n      };\n    } catch (e) {\n      console.warn(e);\n      return {};\n    }\n  }\n\n  async getCustomerPostHeader(contentType?: string): Promise<any> {\n    try {\n      return {\n        'X-Parse-Application-Id': await this.getCustomerApplicationId(),\n        'content-type': contentType ? contentType : 'application/json'\n      };\n    } catch (e) {\n      throw {message: 'Fails to get customer post header', reason: e.toString()};\n    }\n  }\n\n  async getCustomerServerURL(): Promise<string> {\n    try {\n      return `https://${await this.getCustomerServerURLId()}.bfast.fahamutech.com`;\n    } catch (e) {\n      throw {message: 'Fails to get server url', reason: e.toString()};\n    }\n  }\n\n  async getCustomerProjectId(): Promise<string> {\n    try {\n      const activeShop = await this.indexDb.getActiveShop();\n      if (!activeShop) {\n        throw new Error('No user in local storage');\n      }\n      return activeShop.projectId;\n    } catch (e) {\n      throw {message: 'Fails to get project id', reason: e.toString()};\n    }\n  }\n\n  /**\n   * @deprecated\n   */\n  public getPrinterAddress(callback: (value: { ip: string, name: string }) => void) {\n    // this.indexDb.getItem<{ ip: string, name: string }>('printerAddress').then(value => {\n    //   callback(null);\n    // }).catch(reason => {\n    //   console.log(reason);\n    //   callback(null);\n    // });\n    callback(null);\n  }\n\n  saveSettings(settings: any): Promise<any> {\n    return new Promise<any>(async (resolve, reject) => {\n      try {\n        const activeShop = await this.storageService.getActiveShop();\n        this.httpClient.put<any>(this.ssmFunctionsURL + '/settings/' + activeShop.projectId, settings, {\n          headers: this.ssmFunctionsHeader\n        }).subscribe(_ => {\n          activeShop.settings = _.settings;\n          this.storageService.saveActiveShop(activeShop).then(_1 => {\n            resolve('Shop settings updated');\n          }).catch(reason => {\n            reject(reason);\n          });\n        }, error => {\n          reject(error);\n        });\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  async getSettings(): Promise<{\n    printerFooter: string, printerHeader: string, saleWithoutPrinter: boolean,\n    allowRetail: boolean, allowWholesale: boolean\n  }> {\n    try {\n      const activeShop = await this.storageService.getActiveShop();\n      if (!activeShop || !activeShop.settings) {\n        return {\n          printerFooter: 'Thank you',\n          printerHeader: '',\n          saleWithoutPrinter: true,\n          allowRetail: true,\n          allowWholesale: true,\n        };\n      }\n      return activeShop.settings;\n    } catch (e) {\n      throw {message: 'Fails to get settings', reason: e.toString()};\n    }\n  }\n}\n","import {Component} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\n@Component({\n  template: `\n    <div>\n      <div mat-dialog-title>Account Verification</div>\n      <div mat-dialog-content>\n        <p>\n          Your email is not verified we send a link to the email\n          <br>\n          you use when open account for you to verify your account\n        </p>\n      </div>\n      <div mat-dialog-actions>\n        <button (click)=\"dialogRef.close()\" mat-button color=\"primary\">Close</button>\n      </div>\n    </div>\n  `,\n})\nexport class VerifyEMailDialogComponent {\n  constructor(public readonly dialogRef: MatDialogRef<VerifyEMailDialogComponent>) {\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {MatDialog} from '@angular/material/dialog';\nimport {HttpClient} from '@angular/common/http';\nimport {BFast} from 'bfastjs';\nimport {LogService} from './log.service';\nimport {StorageService} from './storage.service';\nimport {ShopModel} from '../models/shop.model';\nimport {UserModel} from '../models/user.model';\nimport {SettingsService} from './settings.service';\nimport {VerifyEMailDialogComponent} from '../components/verify-email-dialog.component';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n\n  constructor(private readonly httpClient: HttpClient,\n              private readonly settingsService: SettingsService,\n              private readonly dialog: MatDialog,\n              private readonly logger: LogService,\n              private readonly storageService: StorageService) {\n  }\n\n  async currentUser(): Promise<any> {\n    const user = await BFast.auth().currentUser();\n    if (user && user.role !== 'admin') {\n      return user;\n    } else if (user && user.verified === true) {\n      return user;\n    } else {\n      return await BFast.auth().setCurrentUser(undefined);\n    }\n  }\n\n  async deleteUser(user: any): Promise<any> {\n    return BFast.functions()\n      .request('/functions/users/' + user.id)\n      .delete({\n        data: {context: {admin: await BFast.auth().currentUser()}}\n      });\n  }\n\n  async getAllUser(pagination: { size: number, skip: number }): Promise<UserModel[]> {\n    const projectId = await this.settingsService.getCustomerProjectId();\n    return BFast.database().collection('_User')\n      .query()\n      .equalTo('projectId', projectId)\n      .includesIn('role', ['user', 'manager'])\n      .size(pagination.size)\n      .skip(pagination.skip)\n      .find<UserModel[]>({\n        useMasterKey: true\n      });\n  }\n\n  getUser(user: UserModel, callback?: (user: UserModel) => void): void {\n\n  }\n\n  async login(user: { username: string, password: string }): Promise<UserModel> {\n    const authUser = await BFast.auth().logIn<UserModel>(user.username, user.password);\n    await this.storageService.removeActiveShop();\n    if (authUser && authUser.role !== 'admin') {\n      await this.storageService.saveActiveUser(authUser);\n      return authUser;\n    } else if (authUser && authUser.verified === true) {\n      await this.storageService.saveActiveUser(authUser);\n      return authUser;\n    } else {\n      await BFast.functions().request('/functions/users/reVerifyAccount/' + user.username).post();\n      this.dialog.open(VerifyEMailDialogComponent, {\n        closeOnNavigation: true,\n        disableClose: true\n      });\n      throw {code: 403, err: 'account not verified'};\n    }\n  }\n\n  async logout(user: UserModel) {\n    await BFast.auth().logOut();\n    await this.storageService.removeActiveUser();\n    await this.storageService.removeActiveShop();\n    return;\n  }\n\n  async register(user: UserModel): Promise<UserModel> {\n    try {\n      user.settings = {\n        printerFooter: 'Thank you',\n        printerHeader: '',\n        saleWithoutPrinter: true,\n        allowRetail: true,\n        allowWholesale: true\n      };\n      user.shops = [];\n      await this.storageService.removeActiveShop();\n      return await BFast.functions().request('/functions/users/create').post(user, {\n        headers: this.settingsService.ssmFunctionsHeader\n      });\n    } catch (e) {\n      if (e && e.response && e.response.data) {\n        throw e.response.data;\n      } else {\n        throw e.toString();\n      }\n    }\n  }\n\n  resetPassword(username: string): Promise<any> {\n    return BFast.functions().request('/functions/users/resetPassword/' + encodeURIComponent(username)).get();\n  }\n\n  async refreshToken(): Promise<any> {\n    return BFast.auth().currentUser();\n  }\n\n  addUser(user: UserModel): Promise<UserModel> {\n    return new Promise<UserModel>(async (resolve, reject) => {\n      const shop = await this.storageService.getActiveShop();\n      const shops = user.shops ? user.shops : [];\n      const shops1 = shops.filter(value => value.applicationId !== shop.applicationId);\n      user.applicationId = shop.applicationId;\n      user.projectUrlId = shop.projectUrlId;\n      user.projectId = shop.projectId;\n      user.businessName = shop.businessName;\n      user.settings = shop.settings;\n      user.shops = shops1;\n      this.httpClient.post<UserModel>(this.settingsService.ssmFunctionsURL + '/functions/users/seller', user, {\n        headers: this.settingsService.ssmFunctionsHeader\n      }).subscribe(value => {\n        resolve(value);\n      }, error => {\n        reject(error);\n      });\n    });\n  }\n\n  async getShops(): Promise<ShopModel[]> {\n    try {\n      const user = await this.storageService.getActiveUser();\n      const shops = [];\n      user.shops.forEach(element => {\n        shops.push(element);\n      });\n      shops.push({\n        businessName: user.businessName,\n        projectId: user.projectId,\n        applicationId: user.applicationId,\n        projectUrlId: user.projectUrlId,\n        settings: user.settings,\n        street: user.street,\n        country: user.country,\n        region: user.region\n      });\n      return shops;\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  async getCurrentShop(): Promise<ShopModel> {\n    try {\n      const activeShop = await this.storageService.getActiveShop();\n      if (activeShop && activeShop.projectId && activeShop.applicationId && activeShop.projectUrlId) {\n        return activeShop;\n      } else {\n        throw new Error('No active shop in records');\n      }\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  async saveCurrentShop(shop: ShopModel): Promise<ShopModel> {\n    try {\n      await this.storageService.saveCurrentProjectId(shop.projectId);\n      return await this.storageService.saveActiveShop(shop);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  createShop(data: { admin: UserModel, shop: ShopModel }): Promise<ShopModel> {\n    return undefined;\n    // return new Promise<ShopModel>(async (resolve, reject) => {\n    //   this.httpClient.post<ShopModel>(this.settings.ssmFunctionsURL + '/functions/shop', data, {\n    //     headers: this.settings.ssmFunctionsHeader\n    //   }).subscribe(value => {\n    //     resolve(value);\n    //   }, error => {\n    //     reject(error);\n    //   });\n    // });\n  }\n\n  deleteShop(shop: ShopModel): Promise<ShopModel> {\n    return undefined;\n    // return new Promise<ShopModel>((resolve, reject) => {\n    //   this.httpClient.delete(this.settings.ssmFunctionsURL + '/functions/shop', {\n    //   })\n    // });\n  }\n\n  updatePassword(user: UserModel, password: string): Promise<any> {\n    return new Promise<UserModel>((resolve, reject) => {\n      this.httpClient.put<any>(this.settingsService.ssmFunctionsURL + '/functions/users/password/' + user.id, {\n        password: password\n      }, {\n        headers: this.settingsService.ssmFunctionsHeader\n      }).subscribe(value => {\n        resolve(value);\n      }, error => {\n        reject(error);\n      });\n    });\n  }\n\n  updateUser(user: UserModel, data: { [p: string]: any }): Promise<UserModel> {\n    return new Promise(async (resolve, reject) => {\n      this.httpClient.put<UserModel>(this.settingsService.ssmFunctionsURL + '/functions/users/' + user.id, data, {\n        headers: this.settingsService.ssmFunctionsHeader\n      }).subscribe(value => resolve(value), error1 => {\n        reject(error1);\n      });\n    });\n  }\n\n  async updateCurrentUser(user: UserModel): Promise<UserModel> {\n    try {\n      return await this.storageService.saveActiveUser(user);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  changePasswordFromOld(data: { lastPassword: string; password: string; user: UserModel }): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      this.httpClient.put<UserModel>(this.settingsService.ssmFunctionsURL + '/functions/users/password/change/' + data.user.id, {\n        lastPassword: data.lastPassword,\n        username: data.user.username,\n        password: data.password\n      }, {\n        headers: this.settingsService.ssmFunctionsHeader\n      }).subscribe(value => resolve(value), error1 => {\n        reject(error1);\n      });\n    });\n  }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ConfigsService{\n  static versionName = '';\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Observable, of} from 'rxjs';\nimport {EventService} from '../services/event.service';\nimport {UserService} from '../services/user.service';\nimport {LogService} from '../services/log.service';\nimport {SsmEvents} from '../utils/eventsNames.util';\nimport {ShopModel} from '../models/shop.model';\nimport {ConfigsService} from '../services/configs.service';\n\n@Component({\n  selector: 'smartstock-drawer',\n  template: `\n    <div class=\"my-side-nav\">\n      <div>\n        <div class=\"d-flex justify-content-center align-items-center flex-column\" style=\"padding-bottom: 8px\">\n          <div style=\"padding: 16px; justify-content: center; align-items: center\">\n            <mat-icon style=\"width: 70px; height: 70px; font-size: 70px\" color=\"primary\">store</mat-icon>\n          </div>\n          <span style=\"max-width: 150px; overflow: hidden; text-overflow: ellipsis;\"\n                *ngIf=\"shop\">{{shop.businessName}}</span>\n          <span style=\"width: 4px; height: 4px\"></span>\n          <button style=\"width: 80%\"\n                  color=\"primary\"\n                  class=\"btn-block\"\n                  routerLink=\"/account/shop\" mat-button>\n            Change Shop\n          </button>\n        </div>\n\n        <div class=\"d-flex justify-content-center align-items-center\">\n          <mat-divider></mat-divider>\n        </div>\n\n        <mat-accordion [multi]=\"true\" class=\"mat-elevation-z0\">\n          <mat-nav-list *ngIf=\"isAdmin()\" class=\"mat-elevation-z0\">\n            <mat-list-item [ngStyle]=\"shouldExpand('dashboard')?selectedMenu:{}\" routerLink=\"/dashboard\">\n              <mat-icon matListIcon matPrefix>dashboard</mat-icon>\n              <span matLine style=\"margin-left: 8px\">Dashboard</span>\n            </mat-list-item>\n          </mat-nav-list>\n\n          <mat-divider *ngIf=\"isAdmin()\"></mat-divider>\n\n          <mat-expansion-panel *ngIf=\"isAdmin()\" [expanded]=\"shouldExpand('report')\" class=\"mat-elevation-z0\">\n            <mat-expansion-panel-header>\n              <mat-icon matPrefix>table_chart</mat-icon>\n              <span style=\"margin-left: 8px\">Reports</span>\n            </mat-expansion-panel-header>\n            <mat-nav-list>\n              <a mat-list-item routerLink=\"/report/sales\">Sales Reports</a>\n              <a mat-list-item routerLink=\"/report/stocks\">Stock Reports</a>\n            </mat-nav-list>\n          </mat-expansion-panel>\n\n          <mat-divider *ngIf=\"currentUser && currentUser.role==='admin'\"></mat-divider>\n\n          <mat-nav-list>\n            <mat-list-item [ngStyle]=\"shouldExpand('sale')?selectedMenu:{}\" routerLink=\"/sale\">\n              <mat-icon matListIcon matPrefix>shop_front</mat-icon>\n              <span matLine style=\"margin-left: 8px\">Sale</span>\n            </mat-list-item>\n          </mat-nav-list>\n\n          <mat-divider></mat-divider>\n\n          <mat-expansion-panel *ngIf=\"isManager()\" [expanded]=\"shouldExpand('purchase')\" class=\"mat-elevation-z0\">\n            <mat-expansion-panel-header>\n              <mat-icon matPrefix>receipts</mat-icon>\n              <span style=\"margin-left: 8px\">Purchase</span>\n            </mat-expansion-panel-header>\n            <mat-nav-list>\n              <a mat-list-item routerLink=\"/purchase\">All Purchases</a>\n              <a mat-list-item routerLink=\"/purchase/create\">New Purchase</a>\n              <a mat-list-item routerLink=\"/stock\" [queryParams]=\"{t:3}\">Suppliers</a>\n            </mat-nav-list>\n          </mat-expansion-panel>\n\n          <mat-divider *ngIf=\"currentUser && (currentUser.role==='admin' || currentUser.role === 'manager')\"></mat-divider>\n\n          <mat-nav-list *ngIf=\"isManager()\">\n            <mat-list-item [ngStyle]=\"shouldExpand('stock')?selectedMenu:{}\" routerLink=\"/stock\">\n              <mat-icon matListIcon matPrefix>store</mat-icon>\n              <span matLine style=\"margin-left: 8px\">Stock</span>\n            </mat-list-item>\n          </mat-nav-list>\n\n          <mat-divider *ngIf=\"isManager()\"></mat-divider>\n\n          <mat-expansion-panel [expanded]=\"shouldExpand('settings')\" class=\"mat-elevation-z0\">\n            <mat-expansion-panel-header>\n              <mat-icon matPrefix>supervisor_account</mat-icon>\n              <span style=\"margin-left: 8px\">Account</span>\n            </mat-expansion-panel-header>\n            <mat-nav-list>\n              <a *ngIf=\"isManager()\" mat-list-item\n                 routerLink=\"/account/settings\">\n                <div class=\"d-flex flex-row flex-nowrap btn-block\">\n                  <span>Settings</span>\n                  <span class=\"flex-grow-1\"></span>\n                  <mat-icon>settings</mat-icon>\n                </div>\n              </a>\n              <a *ngIf=\"isManager()\" mat-list-item\n                 routerLink=\"/account/users\">\n                <div class=\"d-flex flex-row flex-nowrap btn-block\">\n                  <span>Users</span>\n                  <span class=\"flex-grow-1\"></span>\n                  <mat-icon>person_add</mat-icon>\n                </div>\n              </a>\n              <a mat-list-item routerLink=\"/account/profile\">\n                <div class=\"d-flex flex-row flex-nowrap btn-block\">\n                  <span>Profile</span>\n                  <span class=\"flex-grow-1\"></span>\n                  <mat-icon>person</mat-icon>\n                </div>\n              </a>\n            </mat-nav-list>\n          </mat-expansion-panel>\n        </mat-accordion>\n\n      </div>\n      <span style=\"flex-grow: 1\"></span>\n      <div style=\"display: flex; justify-content: center; align-items: center\">\n        <span>Version: {{versionNumber | async}}</span>\n      </div>\n    </div>\n  `,\n  styleUrls: ['../styles/admin-drawer.style.scss']\n})\nexport class DrawerComponent implements OnInit {\n\n  constructor(private readonly userService: UserService,\n              private readonly logger: LogService,\n              private readonly eventApi: EventService) {\n  }\n\n  shop: ShopModel;\n  currentUser: any;\n  @Input() versionNumber: Observable<string> = of();\n  selectedMenu = {\n    background: '#1b5e20',\n    borderTopRightRadius: '50px',\n    borderBottomRightRadius: '50px',\n    color: 'white'\n  };\n\n  ngOnInit(): void {\n    this.versionNumber = of(ConfigsService.versionName);\n    this.userService.getCurrentShop().then(shop => {\n      this.shop = shop;\n    }).catch(reason => {\n      this.logger.i(reason);\n      this.shop = undefined;\n    });\n    this.userService.currentUser().then(user => {\n      this.currentUser = user;\n    });\n    this.eventApi.listen(SsmEvents.SETTINGS_UPDATED, data => {\n      this.userService.getCurrentShop().then(shop => {\n        this.shop = shop;\n      }).catch(reason => {\n        this.logger.e(reason, 'AdminDrawerComponent:37');\n        this.shop = undefined;\n      });\n    });\n  }\n\n  shouldExpand(route: string): boolean {\n    const url = new URL(location.href);\n    return url.pathname.startsWith('/' + route);\n  }\n\n  isManager(): boolean {\n    return this.currentUser && (this.currentUser.role === 'admin' || this.currentUser.role === 'manager');\n  }\n\n  isAdmin(): boolean {\n    return this.currentUser && (this.currentUser.role === 'admin');\n  }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {MatSidenav} from '@angular/material/sidenav';\nimport {Router} from '@angular/router';\nimport {FormControl} from '@angular/forms';\nimport {debounceTime, distinctUntilChanged} from 'rxjs/operators';\nimport {StorageService} from '../services/storage.service';\nimport {UserService} from '../services/user.service';\nimport {UserModel} from '../models/user.model';\nimport {SsmEvents} from '../utils/eventsNames.util';\nimport {EventService} from '../services/event.service';\n\n@Component({\n  selector: 'smartstock-toolbar',\n  template: `\n    <mat-toolbar color=\"primary\" class=\"sticky-top mat-elevation-z4\">\n      <mat-toolbar-row>\n<!--        <button routerLink=\"{{backLink}}\" *ngIf=\"hasBackRoute && backLink\" mat-icon-button>-->\n<!--          <mat-icon>arrow_back</mat-icon>-->\n<!--        </button>-->\n        <button mat-icon-button (click)=\"sidenav.toggle()\">\n          <mat-icon>menu</mat-icon>\n        </button>\n        <span>{{heading}}</span>\n        <span *ngIf=\"isMobile\" style=\"flex: 1 1 auto\"></span>\n        <span *ngIf=\"!isMobile && showSearch\" style=\"width: 16px\"></span>\n        <span *ngIf=\"!isMobile && !showSearch\" style=\"flex: 1 1 auto\"></span>\n        <smartstock-search-input [searchProgressFlag]=\"searchProgressFlag\"\n                          *ngIf=\"!isMobile && showSearch\" style=\"flex: 1 1 auto\"\n                          [showSearch]=\"showSearch\"\n                          [searchInputControl]=\"searchInputControl\"\n                          [searchPlaceholder]=\"searchPlaceholder\">\n        </smartstock-search-input>\n        <span *ngIf=\"!isMobile && showSearch\" style=\"width: 16px\"></span>\n        <button *ngIf=\"noOfProductsInCart> 0 && !isMobile\" mat-icon-button (click)=\"cartdrawer.toggle()\"\n                [matBadge]=\"noOfProductsInCart\">\n          <mat-icon>shopping_cart</mat-icon>\n        </button>\n        <button *ngIf=\"!isMobile\" class=\"ft-button\" mat-button [matMenuTriggerFor]=\"menu\">\n          <mat-icon>account_circle</mat-icon>\n          <span *ngIf=\"currentUser\">{{\"  \" + currentUser.username}}</span>\n        </button>\n        <button *ngIf=\"isMobile\" mat-icon-button [matMenuTriggerFor]=\"menu\">\n          <mat-icon>more_vert</mat-icon>\n          <!--      <span *ngIf=\"currentUser\">{{\"  \" + currentUser.username}}</span>-->\n        </button>\n        <mat-menu #menu>\n          <button mat-menu-item (click)=\"logout()\">\n            <mat-icon>exit_to_app</mat-icon>\n            Logout\n          </button>\n          <button mat-menu-item routerLink=\"/account/profile\">\n            <mat-icon>person</mat-icon>\n            My Profile\n          </button>\n        </mat-menu>\n      </mat-toolbar-row>\n\n      <mat-toolbar-row *ngIf=\"isMobile && showSearch\">\n        <!--    <span style=\"flex-grow: 1\"></span>-->\n        <smartstock-search-input [searchProgressFlag]=\"searchProgressFlag\"\n                          style=\"flex: 1 1 auto\"\n                          [showSearch]=\"showSearch\"\n                          [searchInputControl]=\"searchInputControl\"\n                          [searchPlaceholder]=\"searchPlaceholder\">\n        </smartstock-search-input>\n        <!--    <span style=\"flex-grow: 1\"></span>-->\n      </mat-toolbar-row>\n    </mat-toolbar>\n  `,\n})\nexport class ToolbarComponent implements OnInit {\n  @Input() heading: string;\n  @Input() showProgress = false;\n  @Input() sidenav: MatSidenav;\n  @Input() hasBackRoute = false;\n  @Input() backLink: string;\n  @Input() cartdrawer: MatSidenav;\n  @Input() showSearch = false;\n  @Output() searchCallback = new EventEmitter<string>();\n  @Input() searchInputControl = new FormControl('');\n  @Input() searchPlaceholder: string | 'Type to search';\n  currentUser: UserModel;\n\n  noOfProductsInCart;\n  @Input() searchProgressFlag = false;\n  isMobile = false; // environment.android;\n\n  constructor(private readonly router: Router,\n              private readonly storage: StorageService,\n              private readonly userDatabase: UserService,\n              private readonly eventService: EventService) {\n  }\n\n  ngOnInit(): void {\n    this.storage.getActiveUser().then(user => {\n      this.currentUser = user;\n    });\n    this.searchInputControl.valueChanges.pipe(\n      debounceTime(500),\n      distinctUntilChanged()\n    ).subscribe(_ => {\n      this.searchCallback.emit(this.searchInputControl.value);\n    });\n\n    this.getProductsInCart();\n    this._clearSearchInputListener();\n  }\n\n  getProductsInCart(): void {\n    this.eventService.listen(SsmEvents.NO_OF_CART, (data) => {\n      this.noOfProductsInCart = data.detail;\n    });\n  }\n\n  logout(): void {\n    this.userDatabase.logout(null).finally(() => {\n      return this.router.navigateByUrl('');\n    }).catch(err => console.log(''));\n  }\n\n  private _clearSearchInputListener(): void {\n    // this.eventService.listen(SsmEvents.ADD_CART, data => {\n    //   this.searchInputControl.reset('');\n    // });\n  }\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'smartstock-no-stock-dialog',\n  template: `\n    <div>\n      <h5>Hello!</h5>\n      <mat-card-subtitle mat-dialog-content>\n        StockModel is not available yet, add product or refresh your stock\n      </mat-card-subtitle>\n      <div mat-dialog-actions>\n        <button (click)=\"dialogRef.close()\" routerLink=\"/stock\" mat-flat-button color=\"primary\">Go To StockModel</button>\n        <button (click)=\"dialogRef.close()\" mat-flat-button color=\"warn\">Close</button>\n      </div>\n    </div>\n  `,\n})\nexport class NoStockDialogComponent implements OnInit {\n\n  constructor(public dialogRef: MatDialogRef<NoStockDialogComponent>,\n              @Inject(MAT_DIALOG_DATA) public data: any) {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {UserService} from '../services/user.service';\nimport {ShopModel} from '../models/shop.model';\n\n@Pipe({\n  name: 'shopsPipe'\n})\nexport class ShopsPipe implements PipeTransform {\n\n  constructor(private readonly userApi: UserService) {\n  }\n\n  async transform(shops: ShopModel[], ...args: unknown[]): Promise<string[]> {\n    try {\n      const shop = await this.userApi.getCurrentShop();\n      shops.push(shop);\n      return shops.map(value => value.businessName);\n    } catch (e) {\n      return [];\n    }\n  }\n\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'smartstock-on-fetch',\n  template: `\n    <div *ngIf=\"!isLoading\" class=\"no-data-wrapper\">\n      <img src=\"/src/assets/img/empty.svg\" width=\"200px\" alt=\"\">\n      <h4>No Data</h4>\n      <button (click)=\"callBack()\" matTooltip=\"Click to refresh\" mat-raised-button mat-icon-button>\n        <mat-icon color=\"accent\">\n          refresh\n        </mat-icon>\n      </button>\n    </div>\n\n    <div *ngIf=\"isLoading\" class=\"no-data-wrapper\">\n      <img src=\"/src/assets/img/data.svg\" width=\"200px\" alt=\"\">\n      <h4>Fetching data...</h4>\n      <mat-progress-spinner color=\"accent\" mode=\"indeterminate\" [diameter]=\"30\"></mat-progress-spinner>\n    </div>\n  `,\n  styleUrls: ['../styles/on-fetch.style.scss']\n})\nexport class OnFetchComponent implements OnInit {\n\n  @Output() refreshCallback = new EventEmitter();\n  @Input() isLoading: boolean;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  callBack() {\n    this.refreshCallback.emit();\n  }\n\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormControl} from '@angular/forms';\n\n@Component({\n  selector: 'smartstock-search-input',\n  template: `\n    <div style=\"width: 100%\">\n      <input [formControl]=\"searchInputControl\"\n             *ngIf=\"showSearch\"\n             class=\"toolbar-input\" type=\"text\" placeholder=\"{{searchPlaceholder}}\">\n      <mat-progress-spinner style=\"display: inline-block; margin-left: -30px\"\n                            mode=\"indeterminate\" diameter=\"25\"\n                            color=\"primary\"\n                            *ngIf=\"showSearch && searchProgressFlag\"\n                            matSuffix>\n        <!--      <mat-icon>search</mat-icon>-->\n      </mat-progress-spinner>\n    </div>\n  `,\n  styleUrls: ['../styles/search-input.style.scss']\n})\nexport class SearchInputComponent implements OnInit {\n  @Input() searchInputControl: FormControl;\n  @Input() showSearch = false;\n  @Input() searchProgressFlag = false;\n  @Input() searchPlaceholder = 'Enter something...';\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import {Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'smartstock-bottom-bar',\n  template: `\n    <mat-toolbar class=\"fixed-bottom bottom-smartstock-bar\">\n\n      <div class=\"flex-grow-1 d-flex justify-content-center align-items-center flex-column\">\n        <button mat-icon-button *ngIf=\"activeNav('dashboard')\" mat-flat-button routerLink=\"/dashboard\">\n          <mat-icon color=\"{{activeNav('dashboard')?'primary':''}}\">dashboard</mat-icon>\n        </button>\n        <button *ngIf=\"!activeNav('dashboard')\" mat-icon-button routerLink=\"/dashboard\">\n          <mat-icon>dashboard</mat-icon>\n        </button>\n        <!--    <span *ngIf=\"activeNav('dashboard')\">Dashboard</span>-->\n      </div>\n\n      <div class=\"flex-grow-1 d-flex justify-content-center align-items-center flex-column\">\n        <button mat-icon-button *ngIf=\"activeNav('sale')\" mat-flat-button routerLink=\"/sale\">\n          <mat-icon color=\"{{activeNav('sale')?'primary':''}}\">shop</mat-icon>\n        </button>\n        <button *ngIf=\"!activeNav('sale')\" mat-icon-button routerLink=\"/sale\">\n          <mat-icon>shop</mat-icon>\n        </button>\n        <!--    <span *ngIf=\"activeNav('sale')\">Sale</span>-->\n      </div>\n\n      <div class=\"flex-grow-1 d-flex justify-content-center align-items-center flex-column\">\n        <button mat-icon-button *ngIf=\"activeNav('purchase')\" mat-flat-button routerLink=\"/purchase\">\n          <mat-icon color=\"{{activeNav('purchase')?'primary':''}}\">receipt</mat-icon>\n        </button>\n        <button *ngIf=\"!activeNav('purchase')\" mat-icon-button routerLink=\"/purchase\">\n          <mat-icon>receipt</mat-icon>\n        </button>\n        <!--    <span *ngIf=\"activeNav('purchase')\">Purchase</span>-->\n      </div>\n\n      <div class=\"flex-grow-1 d-flex justify-content-center align-items-center flex-column\">\n        <button mat-icon-button *ngIf=\"activeNav('stock')\" mat-flat-button routerLink=\"/stock\">\n          <mat-icon color=\"{{activeNav('stock')?'primary':''}}\">store</mat-icon>\n        </button>\n        <button *ngIf=\"!activeNav('stock')\" mat-icon-button routerLink=\"/stock\">\n          <mat-icon>store</mat-icon>\n        </button>\n        <!--    <span *ngIf=\"activeNav('stock')\">StockModel</span>-->\n      </div>\n\n      <div class=\"flex-grow-1 d-flex justify-content-center align-items-center flex-column\">\n        <button mat-icon-button *ngIf=\"activeNav('settings')\" mat-flat-button routerLink=\"/account\">\n          <mat-icon color=\"{{activeNav('settings')?'primary':''}}\">settings</mat-icon>\n        </button>\n        <button *ngIf=\"!activeNav('settings')\" mat-icon-button routerLink=\"/account\">\n          <mat-icon>settings</mat-icon>\n        </button>\n        <!--    <span *ngIf=\"activeNav('settings')\">Settings</span>-->\n      </div>\n\n    </mat-toolbar>\n  `,\n  styleUrls: ['../styles/bottom-bar.style.scss']\n})\nexport class BottomBarComponent implements OnInit {\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  activeNav(route: string): boolean {\n    const url = new URL(location.href);\n    return url.pathname.startsWith('/' + route);\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'smartstock-data-not-ready',\n  template: `\n    <div *ngIf=\"!isLoading\" style=\"margin-top: 10px; margin-bottom: 10px\"\n         class=\"d-flex flex-column justify-content-center align-items-center\">\n      <img alt=\"no data\" src=\"../../../../assets/img/data.svg\" width=\"{{width}}\" height=\"{{height}}\"/>\n      <span>Data is not ready yet</span>\n    </div>\n    <div *ngIf=\"isLoading\" style=\"width: 100%; height: 100%; display: flex; justify-content: center; align-items: center\">\n      <mat-progress-spinner mode=\"indeterminate\" [diameter]=\"30\"></mat-progress-spinner>\n    </div>\n  `,\n})\nexport class DataNotReadyComponent implements OnInit {\n  @Input() width = 200;\n  @Input() height = 200;\n  @Input() isLoading = false;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormControl, Validators} from '@angular/forms';\n\n@Component({\n  selector: 'smartstock-upload-files',\n  template: `\n    <div style=\"display: flex; flex-direction: row; flex-wrap: wrap; align-items: center; padding: 8px\">\n      <div *ngFor=\"let file of files; let i =index\"\n           style=\"display: flex; flex-direction: row; flex-wrap: nowrap; align-items: center\">\n        <mat-card style=\"height: 50px; margin: 5px; display: flex; flex-direction: row; align-items: center\">\n          <span style=\"max-width: 200px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis\">\n            {{file.name}}\n          </span>\n          <span style=\"width: 10px\"></span>\n          <button mat-icon-button style=\"display: inline-block\" (click)=\"removeFile($event, i)\">\n            <mat-icon color=\"warn\">delete</mat-icon>\n          </button>\n        </mat-card>\n      </div>\n      <mat-card (click)=\"uploadFile.click()\" matRipple style=\"width: 120px; height: 50px; margin: 5px\">\n        <mat-icon>attachment</mat-icon>\n        <span>Add File</span>\n      </mat-card>\n    </div>\n\n    <input style=\"display: none\" #uploadFile [multiple]=\"false\" type=\"file\" (change)=\"uploadFiles($event,uploadFile)\">\n  `,\n})\nexport class UploadFilesComponent implements OnInit {\n  @Input() files: { name: string, type: string, url: File }[] = [];\n  @Input() uploadFileFormControl: FormControl = new FormControl([], [Validators.nullValidator, Validators.required]);\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  removeFile($event: MouseEvent, i: number) {\n    $event.preventDefault();\n    this.files.splice(i, 1);\n  }\n\n  async uploadFiles($event: Event, uploadFile: HTMLInputElement) {\n    const files: FileList = $event.target['files'];\n    if (files.item(0)) {\n      const file: File = files.item(0);\n      if (this.files.length === 0) {\n        this.files.push({\n          name: file.name,\n          type: file.type,\n          url: file,\n        });\n      } else {\n        this.files = this.files.filter(value => file.name !== value.name);\n        this.files.push({\n          name: file.name,\n          type: file.type,\n          url: file\n        });\n      }\n      this.uploadFileFormControl.setValue(this.files);\n      uploadFile.value = '';\n    }\n  }\n\n  // private async readFileContent(file: File): Promise<string> {\n  //   return new Promise((resolve, reject) => {\n  //     const fileReader = new FileReader();\n  //     fileReader.onload = ev => {\n  //       resolve(ev.target.result.toString());\n  //     };\n  //     fileReader.onerror = _ => {\n  //       reject('Fails to read file');\n  //     };\n  //     fileReader.readAsDataURL(file);\n  //   });\n  // }\n\n}\n","import {Component, Input, OnInit, TemplateRef} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'smartstock-dash-card',\n  template: `\n    <mat-card class=\"d-flex flex-column\" [ngStyle]=\"{height:height+'px'}\">\n      <mat-card-header style=\"margin: 0\">\n        <span>{{title}}</span>\n        <span style=\"margin-left: 8px\"></span>\n        <mat-icon matTooltip=\"{{description}}\">info_outline</mat-icon>\n      </mat-card-header>\n      <mat-card-content class=\"flex-grow-1\">\n        <ng-container [ngTemplateOutlet]=\"content\"></ng-container>\n      </mat-card-content>\n      <hr *ngIf=\"reportLink\" style=\"width: 100%; margin: 0; padding: 0\">\n      <mat-card-actions *ngIf=\"reportLink\" class=\"d-flex flex-row\">\n        <span style=\"flex: 1 1 auto\"></span>\n        <button (click)=\"goTo()\"color=\"primary\" mat-button>\n          EXPLORE REPORT\n          <mat-icon matSuffix>arrow_forward</mat-icon>\n        </button>\n      </mat-card-actions>\n    </mat-card>\n  `,\n})\nexport class DashCardComponent implements OnInit {\n  @Input() title = '';\n  @Input() height = 300;\n  @Input() description = '';\n  @Input() reportLink: string;\n  @Input() content: TemplateRef<any>;\n\n  constructor(private readonly router: Router) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  goTo() {\n    if (this.reportLink) {\n      this.router.navigateByUrl(this.reportLink).catch(console.log);\n    }\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'smartstock-upload-file-progress',\n  template: `\n    <div *ngIf=\"onUploadFlag\">\n      <mat-progress-bar [bufferValue]=\"100\" mode=\"determinate\" [value]=\"uploadPercentage\"></mat-progress-bar>\n      <span>{{name}} {{uploadPercentage}}%</span>\n    </div>\n  `,\n})\nexport class UploadFileProgressComponent implements OnInit {\n  @Input() name = '';\n  @Input() onUploadFlag = false;\n  @Input() uploadPercentage = 0;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n}\n","import {StockModel} from '../models/stock.model';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Component, Inject} from '@angular/core';\n\n@Component({\n  selector: 'smartstock-lisb-dialog-delete',\n  template: `\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <mat-panel-title class=\"text-center\">\n            Your about to delete :  <b>{{' '+ data.product}}</b>\n          </mat-panel-title>\n        </div>\n      </div>\n      <div class=\"d-flex justify-content-center\">\n        <div class=\"align-self-center\" style=\"margin: 8px\">\n          <button color=\"primary\"  mat-button (click)=\"delete(data)\">Delete</button>\n        </div>\n        <div class=\"alert-secondary\" style=\"margin: 8px\">\n          <button color=\"primary\" mat-button (click)=\"cancel()\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class DialogDeleteComponent {\n  constructor(\n    public dialogRef: MatDialogRef<DialogDeleteComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: StockModel) {\n  }\n\n  delete(stock: StockModel): any {\n    this.dialogRef.close(stock);\n  }\n\n  cancel(): any {\n    this.dialogRef.close('no');\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {DrawerComponent} from './components/drawer.component';\nimport {ToolbarComponent} from './components/toolbar.component';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatListModule} from '@angular/material/list';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {RouterModule} from '@angular/router';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {NoStockDialogComponent} from './components/no-stock-dialog.component';\nimport {ShopsPipe} from './pipes/shops.pipe';\nimport {MatBadgeModule} from '@angular/material/badge';\nimport {OnFetchComponent} from './components/on-fetch.component';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {SearchInputComponent} from './components/search-input.component';\nimport {BottomBarComponent} from './components/bottom-bar.component';\nimport {DataNotReadyComponent} from './components/data-not-ready.component';\nimport {UploadFilesComponent} from './components/upload-files.component';\nimport {MatRippleModule} from '@angular/material/core';\nimport {DashCardComponent} from './components/dash-card.component';\nimport {CommonModule} from '@angular/common';\nimport {UploadFileProgressComponent} from './components/upload-file-progress.component';\nimport {VerifyEMailDialogComponent} from './components/verify-email-dialog.component';\nimport {DialogDeleteComponent} from './components/delete-dialog.component';\nimport {ConfigsService} from './services/configs.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatProgressSpinnerModule,\n    MatCardModule,\n    MatExpansionModule,\n    MatDividerModule,\n    MatListModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatMenuModule,\n    MatButtonModule,\n    RouterModule,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    MatDialogModule,\n    MatSelectModule,\n    MatBadgeModule,\n    MatTooltipModule,\n    MatRippleModule\n  ],\n  exports: [\n    DrawerComponent,\n    ToolbarComponent,\n    ShopsPipe,\n    OnFetchComponent,\n    BottomBarComponent,\n    DataNotReadyComponent,\n    UploadFilesComponent,\n    DashCardComponent,\n    UploadFileProgressComponent\n  ],\n  declarations: [\n    DrawerComponent,\n    ToolbarComponent,\n    NoStockDialogComponent,\n    ShopsPipe,\n    OnFetchComponent,\n    SearchInputComponent,\n    BottomBarComponent,\n    DataNotReadyComponent,\n    UploadFilesComponent,\n    DashCardComponent,\n    DialogDeleteComponent,\n    UploadFileProgressComponent,\n    VerifyEMailDialogComponent\n  ]\n})\n\nexport class LibModule {\n  static start(config: { version: string } = {version: ''}): void {\n    ConfigsService.versionName = config.version;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {BFast} from 'bfastjs';\nimport {StorageService} from './storage.service';\n\n@Injectable({\n  providedIn: 'any'\n})\nexport class FileLibraryService {\n  constructor(private readonly storageService: StorageService) {\n  }\n\n  async saveFile(file: any, progress: (percentage: number) => void): Promise<string> {\n    if (file && file instanceof File) {\n      const activeShop = await this.storageService.getActiveShop();\n      return BFast.storage(activeShop?.projectId).save(file, (data) => {\n        progress((Number(data.loaded) / Number(data.total) * 100));\n      });\n    } else if (file && typeof file === 'string' && file.startsWith('http')) {\n      return file;\n    } else {\n      return null;\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n\n  constructor(private readonly matSnackBar: MatSnackBar) {\n  }\n\n  showMobileInfoMessage(message: string, duration: number = 3000, position: 'bottom' | 'top' = 'top'): void {\n    this.matSnackBar.open(message, 'Ok', {\n      horizontalPosition: 'center',\n      verticalPosition: position,\n      duration\n    });\n  }\n}\n","export const toSqlDate = (date: Date) => {\n  const year = date.getFullYear();\n  let month = (date.getMonth() + 1).toString(10);\n  let day = (date.getDate()).toString(10);\n  if (month.length === 1) {\n    month = '0' + month;\n  }\n  if (day.length === 1) {\n    day = '0' + day;\n  }\n  return year + '-' + month + '-' + day;\n};\n","import {MatSidenav} from '@angular/material/sidenav';\n\nexport abstract class DeviceInfoUtil {\n  getWidth(): number {\n    return window.innerWidth;\n  }\n\n  enoughWidth(): boolean {\n    const width = this.getWidth();\n    return width > 1000;\n  }\n\n  openDrawer(sidenav: MatSidenav) {\n    sidenav.open().catch();\n  }\n}\n","/*\n * Public API Surface of libs\n */\n\nexport {\n  LibModule\n} from './lib.module';\nexport * from './services/settings.service';\nexport * from './services/storage.service';\nexport * from './services/file-library.service';\nexport * from './services/message.service';\nexport * from './services/log.service';\nexport * from './services/event.service';\nexport * from './services/user.service';\nexport * from './utils/date.util';\nexport * from './utils/device-info.util';\nexport * from './utils/eventsNames.util';\nexport * from './utils/security.util';\nexport * from './components/no-stock-dialog.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {BottomBarComponent as e} from './components/bottom-bar.component';\nexport {DashCardComponent as h} from './components/dash-card.component';\nexport {DataNotReadyComponent as f} from './components/data-not-ready.component';\nexport {DialogDeleteComponent as k} from './components/delete-dialog.component';\nexport {DrawerComponent as a} from './components/drawer.component';\nexport {OnFetchComponent as d} from './components/on-fetch.component';\nexport {SearchInputComponent as j} from './components/search-input.component';\nexport {ToolbarComponent as b} from './components/toolbar.component';\nexport {UploadFileProgressComponent as i} from './components/upload-file-progress.component';\nexport {UploadFilesComponent as g} from './components/upload-files.component';\nexport {VerifyEMailDialogComponent as m} from './components/verify-email-dialog.component';\nexport {StockModel as l} from './models/stock.model';\nexport {ShopsPipe as c} from './pipes/shops.pipe';"],"names":["uuid.v4"],"mappings":"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"}