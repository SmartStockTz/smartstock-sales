import { __awaiter } from "tslib";
import { Pipe } from '@angular/core';
import { UserService } from '../services/user.service';
export class ShopsPipe {
    constructor(userApi) {
        this.userApi = userApi;
    }
    transform(shops, ...args) {
        return __awaiter(this, void 0, void 0, function* () {
            try {
                const shop = yield this.userApi.getCurrentShop();
                shops.push(shop);
                return shops.map(value => value.businessName);
            }
            catch (e) {
                return [];
            }
        });
    }
}
ShopsPipe.decorators = [
    { type: Pipe, args: [{
                name: 'shopsPipe'
            },] }
];
ShopsPipe.ctorParameters = () => [
    { type: UserService }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hvcHMucGlwZS5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvd2FwcGkvV2ViU3Rvcm1Qcm9qZWN0cy9zbWFydHN0b2NrLWNvcmUtbGlicy9wcm9qZWN0cy9saWJzL3NyYy8iLCJzb3VyY2VzIjpbInBpcGVzL3Nob3BzLnBpcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBQyxJQUFJLEVBQWdCLE1BQU0sZUFBZSxDQUFDO0FBQ2xELE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSwwQkFBMEIsQ0FBQztBQU1yRCxNQUFNLE9BQU8sU0FBUztJQUVwQixZQUE2QixPQUFvQjtRQUFwQixZQUFPLEdBQVAsT0FBTyxDQUFhO0lBQ2pELENBQUM7SUFFSyxTQUFTLENBQUMsS0FBa0IsRUFBRSxHQUFHLElBQWU7O1lBQ3BELElBQUk7Z0JBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUNqRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqQixPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7YUFDL0M7WUFBQyxPQUFPLENBQUMsRUFBRTtnQkFDVixPQUFPLEVBQUUsQ0FBQzthQUNYO1FBQ0gsQ0FBQztLQUFBOzs7WUFoQkYsSUFBSSxTQUFDO2dCQUNKLElBQUksRUFBRSxXQUFXO2FBQ2xCOzs7WUFMTyxXQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQaXBlLCBQaXBlVHJhbnNmb3JtfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7VXNlclNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL3VzZXIuc2VydmljZSc7XG5pbXBvcnQge1Nob3BNb2RlbH0gZnJvbSAnLi4vbW9kZWxzL3Nob3AubW9kZWwnO1xuXG5AUGlwZSh7XG4gIG5hbWU6ICdzaG9wc1BpcGUnXG59KVxuZXhwb3J0IGNsYXNzIFNob3BzUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgdXNlckFwaTogVXNlclNlcnZpY2UpIHtcbiAgfVxuXG4gIGFzeW5jIHRyYW5zZm9ybShzaG9wczogU2hvcE1vZGVsW10sIC4uLmFyZ3M6IHVua25vd25bXSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2hvcCA9IGF3YWl0IHRoaXMudXNlckFwaS5nZXRDdXJyZW50U2hvcCgpO1xuICAgICAgc2hvcHMucHVzaChzaG9wKTtcbiAgICAgIHJldHVybiBzaG9wcy5tYXAodmFsdWUgPT4gdmFsdWUuYnVzaW5lc3NOYW1lKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbn1cbiJdfQ==